<!DOCTYPE html>
<html lang="en" data-ng-app="mem0r1esInspector" data-ng-csp>
  <head>
    <title>Mem0r1es inspector</title>
    <link href="../external/css/bootstrap.css" rel="stylesheet" media="screen">
    <script type="text/javascript" src="../external/js/jquery-1.8.3.js"></script>
    <script type="text/javascript" src="../external/js/bootstrap.js"></script>
    <script type="text/javascript" src="../external/js/angular.js"></script>
    <script type="text/javascript" src="../external/js/d3.v3.min.js"></script>
    <script type="text/javascript" src = "../js/timeline.js" ></script>
    <script type="text/javascript" src = "../js/inspectorController.js" ></script>
    <script type="text/javascript" src = "../js/inspector.js" ></script>
  </head>

  <body data-ng-controller="controller">
    <div class="container-fluid">
      <div class="row-fluid">
    
        <div class="span2">
        </div>
        
        <div class="span8">
          <div class="page-header">
            <h1>Database Inspector</h1>
          </div>
          <div class="pagination-centered">
            <ul class="block">
              <li data-ng-repeat="page in count" id="page_{{ page.page }}" class="pages badge"><a data-ng-click="loadData(page)" class="white">{{ page.page }}</a></li>
            </ul>
          </div>
          <div class="well" data-ng-repeat="result in results">
            <div class="row-fluid">
              <div class="span8">
                <h4>{{ result.title }}</h4>
              </div>
              <div class="span4 timestamp">
                <h4>{{ result.date }}</h4>
              </div>
            </div>
            <hr>

            <p>
              <strong>URL:</strong> <a href="{{ result.URL }}">{{ result.URL }}</a>
              <br>
              <strong>Referrer:</strong>
              <span data-ng-switch data-on="result.referer">
                <span data-ng-switch-when="unknown">unknown</span>
                <span data-ng-switch-when="noReferer">no referrer</span>
                <span data-ng-switch-default><a href="{{ result.referer }}">{{ result.referer }}</a></span>
              </span>
              <br>
              <strong>Duration:</strong> <span data-prettify-duration="timeSpentOnThePage"></span>
              <br>
              <strong>Language:</strong> {{ result.language }}
              <br>
              <strong>Page focus: </strong><div data-create-focus-timeline></div>
              <strong>User activity: </strong><div data-create-activity-timeline></div>
            </p>
            
            <div class="row-fluid">
              <div class="span8 alert-info padding10">
                <p class="bold underline">Screenshot</p>
                <img src="{{ result.screenshot }}" alt="{{ result.URL }}">
              </div>
              <div class="span4 alert-info padding10">
                <p class="bold underline">Session information</p>
                <p>This session happened at <strong>{{ result.userStudySession.label.labelText }}</strong></p>
                <img src="{{ result.sessionPicture }}" alt="sessionPicture">
                &nbsp;
                <img src="{{ result.sessionLocation }}" alt="sessionLocation">
              </div>
            </div>

          </div>
        </div>
        <div class="span2">
        </div>

      </div>
    </div>

  </body>
</html>

